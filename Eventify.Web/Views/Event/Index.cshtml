@using Eventify.Web.Controllers
@model IEnumerable<Eventify.Data.Models.Myevent>
@{
    ViewBag.Title = "Index";
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <!-- BEGIN PAGE LEVEL SCRIPTS -->
    <script src="~/Scripts/components-date-time-pickers.min.js" type="text/javascript">
    </script>
    <script src="~/Scripts/moment.min.js" type="text/javascript">
    </script>
    <script src="~/Scripts/bootstrap-daterangepicker/daterangepicker.min.js" type="text/javascript">
    </script>
    <script src="~/Scripts/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript">
    </script>
    <script src="~/Scripts/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript">
    </script>
    <script src="~/Scripts/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js" type="text/javascript">
    </script>
    <script src="~/Scripts/clockface/js/clockface.js" type="text/javascript">
    </script>
    <script src="~/Scripts/ui-confirmations.min.js" type="text/javascript"></script>
    <script src="~/Scripts/bootstrap-confirmation.min.js" type="text/javascript"></script>
   <script type='text/javascript'>
        function updateCount() {
            $.getJSON("/Event/ViewNbCount", function (dataResponse) {
                //dataResponse will be whatever we returned from our action
                //so now we can just populate whatever dom element we want with the value
                //for example we'll just replace all the html in the dom element with id 'victimCountId'

               
                $("#toto").val(dataResponse);
                


            });
        }
</script>

<script type="text/javascript">

</script>
    
    
    
  

    <script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
}


<input id="toto" type="hidden" name="name" value="" />
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="icon-calendar"></i>
            <a href="@Url.Action("Index", "Event")">EVENTS</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="@Url.Action("Index", "Event")">All Events</a>
           
        </li>
      
    </ul>
 
</div>
<!-- END PAGE HEADER-->



<div class="portfolio-content portfolio-1">
    <div id="js-filters-juicy-projects" class="cbp-l-filters-button">
        <div style="padding: 5px 10px;" data-filter="*" class="cbp-filter-item-active cbp-filter-item btn dark btn-outline uppercase">
            All
            <div class="cbp-filter-counter"></div>
        </div>
        @foreach (var itemCategories in ViewBag.MyCategories)
        {
            <div style="padding: 5px 10px;" data-filter=".@itemCategories.categoryName" class="cbp-filter-item btn dark btn-outline uppercase">
                @itemCategories.categoryName
                <div class="cbp-filter-counter"></div>
            </div>

        }

    </div>




    <div id="js-grid-juicy-projects" class="cbp">

        @foreach (var item in Model)
        {


            <div class="cbp-item graphic @Html.DisplayFor(modelItem => item.category.categoryName)">
                <div class="cbp-caption">
                    <div class="cbp-caption-defaultWrap">
                        <img src="
                             @{  foreach (var oneMedia in item.mymedias) { @oneMedia.pathMedia  break; } }
                             " alt="">

                    </div>
                    <div class="cbp-caption-activeWrap">
                        <div class="">
                            <div class="cbp-l-caption-body">
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <a href="@Url.Action("Details", "Event", new {id = item.id})" class="cbp-singlePage cbp-l-caption-buttonLeft btn red uppercase btn red uppercase" rel="nofollow">more info</a>
                                <a href="@Url.Action("Edit", "Event", new {id = item.id})" class="btn red uppercase btn red uppercase" rel="nofollow">Edit</a>
                                <a href=" @{
                                              foreach (var oneMedia in item.mymedias)
                                              {
                                                  @oneMedia.pathMedia
                                                  break;
                                              }
                                          } " class="cbp-lightbox cbp-l-caption-buttonRight btn red uppercase btn red uppercase" data-title="@item.title <br>by @item.organization.organizationName">
                                    view larger
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cbp-l-grid-projects-title uppercase text-center uppercase text-center">@Html.DisplayFor(modelItem => item.title)</div>
                <div class="cbp-l-grid-projects-desc uppercase text-center uppercase text-center">@Html.DisplayFor(modelItem => item.category.categoryName)</div>
            </div>






    }
    </div>
    <div id="js-loadMore-juicy-projects" class="cbp-l-loadMore-button">
        <a style="padding: 5px 25px;"  href="#" class="cbp-l-loadMore-link btn grey-mint btn-outline" rel="nofollow">
            <span class="cbp-l-loadMore-defaultText">LOAD MORE</span>
            <span class="cbp-l-loadMore-loadingText">LOADING...</span>
            <span class="cbp-l-loadMore-noMoreLoading">NO MORE EVENTS</span>
        </a>
    </div>

   

    <div id="coco" style="min-width: 310px; height: 400px; margin: 0 auto"></div>






</div>
