@using Eventify.Web.Controllers
@model IEnumerable<Eventify.Data.Models.Message>

@{
    ViewBag.Title = "Index";
}


<h2>Messages</h2>


<div class="col-md-12 col-sm-12">
    <div class="portlet light ">
        <div class="portlet-title">
            <div class="caption caption-md">
                <i class="icon-bar-chart font-dark hide"></i>
                <span class="caption-subject font-dark bold uppercase">Messages </span>
                <span class="caption-helper">45 pending</span>
            </div>
            <div class="inputs">
                <div class="portlet-input input-inline input-small ">
                    <div class="input-icon right">
                        <i class="icon-magnifier"></i>
                        <input type="text" class="form-control form-control-solid input-circle" placeholder="search...">
                    </div>
                </div>
            </div>
        </div>
        <div class="portlet-body">
            <div class="scroller" style="height: 338px;" data-always-visible="1" data-rail-visible1="0" data-handle-color="#D7DCE2">
                <div class="general-item-list">
                    
                    @foreach (var item in Model)
                    {                   
                        <div class="item">
                            <div class="item-head">
                                <div class="item-details">
                                    <img class="item-pic rounded" src="@Html.DisplayFor(modelItem => item.user.profileImage) ">
                                    <a href="" class="item-name primary-link">
                                        @Html.DisplayFor(modelItem => item.user.firstName)  @Html.DisplayFor(modelItem => item.user.lastName) 

                                    </a>
                                    <span class="item-label">
                                               @MessageController.GetPrettyDate(DateTime.Parse(@Html.DisplayFor(modelItem => item.date).ToString()))
                                            </span>
                                </div>
                                <span class="item-status">
                                    <a class="btn red compose-btn btn-block" href="@Url.Action("MessageByUser", "Message", new {id = item.user_id})">
                                        <i class="fa fa-edit"></i> Respond
                                    </a> 

                            </span>
                            </div>
                            <div class="item-body">
                                @Html.DisplayFor(modelItem => item.message1)
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

